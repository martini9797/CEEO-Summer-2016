<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title> Drawing Box Tester Version 2</title>
</head>

<body>
	<div align="center">
		<canvas id="myCanvas" width="500" height="200" style="border:1pt dashed #0000ff" ></canvas>
		<br>
		<button id="savebtn">Save</button>
		<button id="clearbtn">Clear</button>
	</div>
</body>

<script language="JavaScript">

var canvas = document.getElementById('myCanvas');
var par = document.getElementById('demo');
var ctx = canvas.getContext('2d');

var savebutt = document.getElementById('savebtn');
var clearbutt = document.getElementById('clearbtn');

	savebutt.addEventListener('click', function(){
		ctx.save();
	}, false);

	clearbutt.addEventListener('click', function(){
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		//ctx.restore();
	}, false);

var drawing = false;
var dragging = false;
	canvas.style.cursor = "crosshair";

	canvas.addEventListener('click', function(event){
		if (!drawing){
			drawing = true;
			var rect = canvas.getBoundingClientRect();
			var x, y, offsetX = rect.left, offsetY = rect.top;
			x = Math.floor(event.pageX - offsetX);
			y = Math.floor(event.pageY - offsetY);
			ctx.moveTo(x,y);
		} else{
			drawing = false;
			var rect = canvas.getBoundingClientRect();
			var x, y, offsetX = rect.left, offsetY = rect.top;
			x = Math.floor(event.pageX - offsetX);
			y = Math.floor(event.pageY - offsetY);
			ctx.lineTo(x,y);
			ctx.strokeStyle = "#0000FF"
			ctx.stroke();
			//ctx.save();
		}

	},false);


</script>
</html>